# 建立数仓需要了解的基本概念

## 数据仓库（Data Warehouse）

* 数据仓库（Data Warehouse） 是一种信息系统的资料储存理论， 此理论强调的是利用某些特殊的资料储存方式， 让所包含的资料特别有利于分析和处理， 从而产生有价值的资讯，并可依此做出决策。

* 数据仓库是面向主题的、集成的、不可更新的\(稳定性\)、随时间不断变化（不同时间）的数据集合，用以支持经营管理中的决策支持系统（DDS：Decision Support System，主要是报表系统）

* 利用数据仓库的方式存放的资料， 具有一旦存入， 便不会随时间发生变动的特性， 此外， 存入的资料必定包含时间属性， 通常一个数据仓库中会含有大量的历史性资料， 并且它可利用特定的分析方式， 从其中发掘出特定的资讯。

## 事实表（FactTable）

事实表（FactTable）是指存储有事实记录的表，包含了每个事件的具体要素，以及具体发生的事情，如系统日志、销售记录等；

事实表的记录在不断地动态增长，所以它的体积通常远大于其他表。

发生在现实世界中的操作型事件，其所产生的可度量数值，存储在事实表中。从最低的粒度级别来看，事实表行对应一个度量事件，反之亦然。

在事实表里没有存放实际的内容，他是一堆主键的集合，这些ID分别能对应到维度表中的一条记录

## 维度表（DimensionTable）

维表，有时也称查找表（LookupTable），是对事实表中事件的要素的描述信息；

它保存了维度的属性值，可以跟事实表做关联；相当于将事实表上经常重复出现的属性抽取、规范出来用一张表进行管理。

常见的维度表有：日期表（存储与日期对应的周、月、季度等的属性）、地点表（包含国家、省／州、城市等属性）等

每个维度表都包含单一的主键列。维度表的主键可以作为与之关联的任何事实表的外键，当然，维度表行的描述环境应与事实表行完全对应。 维度表通常比较宽，是扁平型非规范表，包含大量的低粒度的文本属性。

# **各维度统计订单销售额数仓设计图（基于星型模型）                              **![](/assets/data2-0.png)

时间维度数来源，订单表的创建时间统计业务时间的前一天格式化yyyymmdd作为主键，并通过时间格式化函数处理成年月日，定时同步到时间维度表。lb\_order 表的 create\_time 字段

代理商维度、业务员维表数据均来源erp1.0

套餐维度表  数据来源lb\_combo

客户维即购买商品的幼儿园

地域表数据来源于lb\_addr\_area

数据仓库的基本概念请参考

[http://cxy7.com/articles/2017/06/23/1498211944874.html\#b3\_solo\_h2\_15](http://cxy7.com/articles/2017/06/23/1498211944874.html#b3_solo_h2_15)

